
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.8">
    
    
      
        <title>2: Production Machine Learning Workflow - Continuous Operations for Production Machine Learning</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.644de097.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.e6a45f82.min.css">
        
          
          
          <meta name="theme-color" content="#009485">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="teal" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#2-production-machine-learning-workflow" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Continuous Operations for Production Machine Learning" class="md-header__button md-logo" aria-label="Continuous Operations for Production Machine Learning" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M257.1 95.53c-11.3 0-22.4 1.19-34 3.44v-65c11.7-1.61 22.8-2.44 34-2.44 58.2 0 111.2 22.19 151.1 58.58l29.4-29.42c10.1-10.08 27.3-2.94 27.3 11.31v105.4c0 8.8-7.2 16-16 16H343.5c-14.2 0-21.4-17.3-11.3-27.3l30.7-30.7c-28.2-24.8-65.2-39.87-105.8-39.87zM97.14 255.5c0 11.2 1.13 22 3.26 32.5H35.47c-1.54-10.6-2.33-21.4-2.33-32.5 0-57.3 21.57-109.7 57.04-149.3L60.69 76.69C50.61 66.61 57.74 49.38 71.1 49.38h106.3c8.8 0 16 7.16 16 16V170.7c0 14.3-17.3 21.4-27.3 11.4l-30.6-30.6c-23.9 28-38.36 64.3-38.36 104zm84.96 92.7-29 28.9c28 24 64.3 38.4 104 38.4 10.6 0 20.9-1 30.9-2.9v64.8c-10.1 1.4-20.4 2.1-30.9 2.1-57.3 0-109.7-22.4-149.3-57l-31.11 31.1c-10.08 10.1-27.32 2.9-27.32-11.3V336.9c0-8.8 7.17-16 16-16H170.7c13.4 0 21.4 17.2 11.4 27.3zm166.1-16 29 29c24.9-28.1 39.9-65.1 39.9-105.7 0-10.8-1-21.3-3.1-31.5h64.9c1.5 10.3 2.2 20.8 2.2 31.5 0 58.2-22.2 111.2-58.5 151.1l31 31c10.1 10.1 2.9 27.3-11.3 27.3H336.9c-8.8 0-16-7.2-16-16V343.5c0-14.2 17.2-21.4 27.3-11.3z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Continuous Operations for Production Machine Learning
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              2: Production Machine Learning Workflow
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Continuous Operations for Production Machine Learning" class="md-nav__button md-logo" aria-label="Continuous Operations for Production Machine Learning" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M257.1 95.53c-11.3 0-22.4 1.19-34 3.44v-65c11.7-1.61 22.8-2.44 34-2.44 58.2 0 111.2 22.19 151.1 58.58l29.4-29.42c10.1-10.08 27.3-2.94 27.3 11.31v105.4c0 8.8-7.2 16-16 16H343.5c-14.2 0-21.4-17.3-11.3-27.3l30.7-30.7c-28.2-24.8-65.2-39.87-105.8-39.87zM97.14 255.5c0 11.2 1.13 22 3.26 32.5H35.47c-1.54-10.6-2.33-21.4-2.33-32.5 0-57.3 21.57-109.7 57.04-149.3L60.69 76.69C50.61 66.61 57.74 49.38 71.1 49.38h106.3c8.8 0 16 7.16 16 16V170.7c0 14.3-17.3 21.4-27.3 11.4l-30.6-30.6c-23.9 28-38.36 64.3-38.36 104zm84.96 92.7-29 28.9c28 24 64.3 38.4 104 38.4 10.6 0 20.9-1 30.9-2.9v64.8c-10.1 1.4-20.4 2.1-30.9 2.1-57.3 0-109.7-22.4-149.3-57l-31.11 31.1c-10.08 10.1-27.32 2.9-27.32-11.3V336.9c0-8.8 7.17-16 16-16H170.7c13.4 0 21.4 17.2 11.4 27.3zm166.1-16 29 29c24.9-28.1 39.9-65.1 39.9-105.7 0-10.8-1-21.3-3.1-31.5h64.9c1.5 10.3 2.2 20.8 2.2 31.5 0 58.2-22.2 111.2-58.5 151.1l31 31c10.1 10.1 2.9 27.3-11.3 27.3H336.9c-8.8 0-16-7.2-16-16V343.5c0-14.2 17.2-21.4 27.3-11.3z"/></svg>

    </a>
    Continuous Operations for Production Machine Learning
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        COPML - A Quick Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../chapter-1/" class="md-nav__link">
        1: Defining Production Machine Learning
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          2: Production Machine Learning Workflow
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        2: Production Machine Learning Workflow
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#workflow-vs-pipeline" class="md-nav__link">
    Workflow vs Pipeline
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#workflow-implementation-steps" class="md-nav__link">
    Workflow Implementation Steps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#workflow-steps" class="md-nav__link">
    Workflow Steps
  </a>
  
    <nav class="md-nav" aria-label="Workflow Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-clarify-business-requirements" class="md-nav__link">
    Step 1: Clarify Business Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-assess-available-data" class="md-nav__link">
    Step 2: Assess Available Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-develop-the-data-science-plan" class="md-nav__link">
    Step 3: Develop the Data Science Plan
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-model-deployment" class="md-nav__link">
    Step 4: Model Deployment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-model-operations" class="md-nav__link">
    Step 5: Model Operations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-scenarios" class="md-nav__link">
    Example Scenarios
  </a>
  
    <nav class="md-nav" aria-label="Example Scenarios">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scenario-1-churn-prediction" class="md-nav__link">
    Scenario 1: Churn Prediction
  </a>
  
    <nav class="md-nav" aria-label="Scenario 1: Churn Prediction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-clarify-business-requirements_1" class="md-nav__link">
    Step 1: Clarify Business Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-assess-available-data_1" class="md-nav__link">
    Step 2: Assess Available Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-develop-the-data-science-plan_1" class="md-nav__link">
    Step 3: Develop the Data Science Plan
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-model-deployment_1" class="md-nav__link">
    Step 4: Model Deployment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-model-operations_1" class="md-nav__link">
    Step 5: Model Operations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenario-2-detecting-pneumonia-in-chest-x-rays" class="md-nav__link">
    Scenario 2: Detecting Pneumonia in Chest X-Rays
  </a>
  
    <nav class="md-nav" aria-label="Scenario 2: Detecting Pneumonia in Chest X-Rays">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-clarify-business-requirements_2" class="md-nav__link">
    Step 1: Clarify Business Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-assess-available-data_2" class="md-nav__link">
    Step 2: Assess Available Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-develop-a-data-science-plan" class="md-nav__link">
    Step 3: Develop a Data Science Plan
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-model-deployment_2" class="md-nav__link">
    Step 4: Model Deployment
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../chapter-3/" class="md-nav__link">
        3: Cross Functional Teams
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../chapter-4/" class="md-nav__link">
        4: Machine Learning Infrastructure
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../chapter-5/" class="md-nav__link">
        5: COPML in Practice
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../conclusion/" class="md-nav__link">
        Conclusion
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#workflow-vs-pipeline" class="md-nav__link">
    Workflow vs Pipeline
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#workflow-implementation-steps" class="md-nav__link">
    Workflow Implementation Steps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#workflow-steps" class="md-nav__link">
    Workflow Steps
  </a>
  
    <nav class="md-nav" aria-label="Workflow Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-clarify-business-requirements" class="md-nav__link">
    Step 1: Clarify Business Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-assess-available-data" class="md-nav__link">
    Step 2: Assess Available Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-develop-the-data-science-plan" class="md-nav__link">
    Step 3: Develop the Data Science Plan
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-model-deployment" class="md-nav__link">
    Step 4: Model Deployment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-model-operations" class="md-nav__link">
    Step 5: Model Operations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-scenarios" class="md-nav__link">
    Example Scenarios
  </a>
  
    <nav class="md-nav" aria-label="Example Scenarios">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scenario-1-churn-prediction" class="md-nav__link">
    Scenario 1: Churn Prediction
  </a>
  
    <nav class="md-nav" aria-label="Scenario 1: Churn Prediction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-clarify-business-requirements_1" class="md-nav__link">
    Step 1: Clarify Business Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-assess-available-data_1" class="md-nav__link">
    Step 2: Assess Available Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-develop-the-data-science-plan_1" class="md-nav__link">
    Step 3: Develop the Data Science Plan
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-model-deployment_1" class="md-nav__link">
    Step 4: Model Deployment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-model-operations_1" class="md-nav__link">
    Step 5: Model Operations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenario-2-detecting-pneumonia-in-chest-x-rays" class="md-nav__link">
    Scenario 2: Detecting Pneumonia in Chest X-Rays
  </a>
  
    <nav class="md-nav" aria-label="Scenario 2: Detecting Pneumonia in Chest X-Rays">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-clarify-business-requirements_2" class="md-nav__link">
    Step 1: Clarify Business Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-assess-available-data_2" class="md-nav__link">
    Step 2: Assess Available Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-develop-a-data-science-plan" class="md-nav__link">
    Step 3: Develop a Data Science Plan
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-model-deployment_2" class="md-nav__link">
    Step 4: Model Deployment
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="2-production-machine-learning-workflow">2: Production Machine Learning Workflow</h1>
<p>This section takes a look at the workflow that is most often applicable to enterprise machine learning projects. It is not the only implementable workflow, but it is the most common one we, having been in various customer facing field teams, see. </p>
<p><img alt="" src="../assets/WorkflowFE.png" /></p>
<h3 id="workflow-vs-pipeline">Workflow vs Pipeline</h3>
<p>It also important to understand that a <em>workflow</em> is not the same as an <em>ML Pipeline</em>. Pipelines usually refer to a specific technical implementation of a sequence of processes or steps that will be executed on an applicable platform, like <a href="https://airflow.apache.org/docs/apache-airflow/stable/">Apache Airflow</a> or <a href="https://www.kubeflow.org/docs/components/pipelines/">Kubeflow</a> pipelines. These specific technical implementation details will be discussed further in <a href="../chapter-4/">chapter 4</a>. In the context of COPML, a workflow can be an independent set of steps chained together or single pipeline or mix of both. A workflow encompasses all the pieces necessary to make a machine learning model available to make useful predictions. It is not a technical artifact in the same way that a Kubeflow pipeline yaml file is. The workflow idea referred to in this document is a conceptual implementation of a machine learning process that may include actual pipelines stored with their specific artifacts. </p>
<h2 id="workflow-implementation-steps">Workflow Implementation Steps</h2>
<p>To implement a machine learning workflow, the COPML framework suggests a series of steps to follow that help better understand the requirements and what is needed to implement the project. </p>
<p>The requirements for a machine learning project can be broadly divide into two main categories with specific sub sections within each.</p>
<p><strong>Business Requirements</strong></p>
<ul>
<li>Availability </li>
<li>Effectiveness </li>
<li>Automation</li>
<li>Risk Management</li>
</ul>
<p><strong>Regulatory Requirements</strong></p>
<ul>
<li>Auditability </li>
<li>Reproducibility </li>
<li>Explainability</li>
</ul>
<p>Each of these requirements detailed further in <a href="../chapter-4/">chapter 4</a>. In order to meet these requirements, the steps that should be followed to better understand what is needed are:</p>
<ol>
<li>Clarify Business Requirements</li>
<li>Assess Available </li>
<li>Data Develop the Data Science Plan </li>
<li>Model Deployment </li>
<li>Model Operations</li>
</ol>
<h2 id="workflow-steps">Workflow Steps</h2>
<p>The steps below follow the typical workflow for taking a machine learning project to production.</p>
<h3 id="step-1-clarify-business-requirements"><strong>Step 1: Clarify Business Requirements</strong></h3>
<p>Everything starts with a business requirement; we need to be able to predict X in order to meet business requirement Y. The source of this request can be from anywhere within the business, and it will likely come from a team or department with limited data science and machine learning capabilities. The request may not be valid or relevant to implementing a machine learning project though. To make sense as a machine learning project the request should include a requirement to predict something that is currently unknown and at least one measurable metric that can gauge the success of this project.</p>
<h3 id="step-2-assess-available-data"><strong>Step 2: Assess Available Data</strong></h3>
<p>Once the data science team has understood and validated the project, they need to determine what data will be needed for the project. This means looking internally at what data is available, checking if it is accessible, and what gaps there might be. If additional data is needed, the data science team should work out if this data can be obtained internally or needs to be acquired from an external 3rd party.</p>
<h3 id="step-3-develop-the-data-science-plan"><strong>Step 3: Develop the Data Science Plan</strong></h3>
<p>The next step is exploratory data analysis. This is to understand the shape and structure of the data. This is also where the data science team will come up with a plan for developing a model that solves the business requirements. This is also where the initial model building, testing, experimentation and optimisation comes in. The end result should be a working prototype of the machine learning model that will be deployed in the next step.</p>
<h3 id="step-4-model-deployment"><strong>Step 4: Model Deployment</strong></h3>
<p>The model developed in the previous step needs to be deployed into production. This means it needs to be deployed in a way that allows its output to be used by the business (or more realistically, other internal applications) for the predictive requirement. It needs to be deployed in a way that matches the availability requirements expected by the teams and internal applications that will use it.</p>
<h3 id="step-5-model-operations"><strong>Step 5: Model Operations</strong></h3>
<p>The final step is the automation and continuous monitoring of the model. This will include monitoring metrics and availability of models and other parts of the end to end implementation. This is also where tasks are triggered and run to update, train and redeploy models to make sure it continues working effectively over time. This step should also include assessing when a model is no longer needed by the business. A model could still be operating effectively but there is no longer need to use it within the business and it should be shut down to get back the resources.</p>
<h2 id="example-scenarios">Example Scenarios</h2>
<p>The following examples showcase complete implementations of production machine learning projects. Both examples have been implemented using freely available open source tooling that is still in active development at the time of publication. They can serve as useful guides for how you might implement similar projects, using your own data.</p>
<h3 id="scenario-1-churn-prediction">Scenario 1: Churn Prediction</h3>
<p>Github link: <a href="https://github.com/fletchjeff/COPML-1_telco_churn">https://github.com/fletchjeff/COPML-1_telco_churn</a></p>
<p>Let’s apply this workflow to a business challenge – predicting the likelihood that a customer will churn.</p>
<p><img alt="" src="../assets/4.png" /></p>
<blockquote>
<p><em><strong>Note:</strong> The data and some of the code for project comes from</em> <a href="https://ff06-2020.fastforwardlabs.com"><em>Interpretability report</em></a> <em>by the Cloudera fast forward team</em></p>
</blockquote>
<h4 id="step-1-clarify-business-requirements_1"><strong>Step 1: Clarify Business Requirements</strong></h4>
<p>A fictitious telco business wants to predict which customers are likely to churn in order to be able to reduce the current churn rate (e.g. from 10% to 5%). In order to fulfil this objective the business needs to be able to predict the probability of any of its customers churning. Those deemed as ‘high risk’ can be entered into some sort of remediation process. For example, an offer of a free data or text package, or whatever the business has decided is the best course of action for retention.</p>
<h4 id="step-2-assess-available-data_1"><strong>Step 2: Assess Available Data</strong></h4>
<p>The data science team assesses the customer-related data that’s available in the organisation’s data warehouse and any relevant data that’s been made available from other sources and confirms it is accessible to the systems the data science teams will use for EDA and model training. In this particular case, the customer-related data includes demographics information, usage data, product mix, monthly charges, total charges etc. It is important that the available data includes both customers that have left (i.e. those that have churned) as well as existing customers who have not churned.</p>
<h4 id="step-3-develop-the-data-science-plan_1"><strong>Step 3: Develop the Data Science Plan</strong></h4>
<p>For this project, the plan is to build a binary classifier model that can classify a customer as a churn risk or not. This model can be applied to any existing customer. The data science team will create notebooks for conducting exploratory data analysis and for the machine learning model build.</p>
<h4 id="step-4-model-deployment_1"><strong>Step 4: Model Deployment</strong></h4>
<p>The model needs to be deployed into the place where its output is available to the relevant teams so they can fulfil the business requirement. Our illustrative code builds a real time model that can make new churn predictions for customers on the fly. However, the more common scenario would be one implemented using a batch process. For example, a batch job might be run once a week, its output would update a table or a list that is accessed by the team that’s tasked with implementing the customer retention strategy.</p>
<h4 id="step-5-model-operations_1"><strong>Step 5: Model Operations</strong></h4>
<p>The model’s performance needs to be checked periodically. A good way to do this is to examine a proportion of the customers that the model made predictions for and assess the accuracy of those predictions e.g. how many of those that were predicted to churn actually did? Alternatively, what are the precision and recall values of the model? If the model performance falls below an acceptable level then it will be necessary to retrain the model. The performance metrics in this scenario are relatively straightforward, but even one this simple can be hard to put into production within an enterprise context. For example, the choice about how often to assess the model’s performance is very dependent on the business circumstances and the consequences of inaccurate predictions or <a href="https://concept-drift.fastforwardlabs.com">concept drift</a>. In the churn prediction scenario described here, while timing matters, it’s not the most important thing. Churn has business implications in the medium- to long-term but its short-term impact is limited. Therefore a delay of a few days for a performance assessment would probably be acceptable.</p>
<h3 id="scenario-2-detecting-pneumonia-in-chest-x-rays">Scenario 2: Detecting Pneumonia in Chest X-Rays</h3>
<p><strong>Github Repo:</strong> <a href="https://github.com/fletchjeff/COPML-2_xray_classifier/">https://github.com/fletchjeff/COPML-2_xray_classifier/</a></p>
<p>This computer vision challenge calls for a different approach to implementing a machine learning model. The requirements are very different from the Customer Churn scenario above. For one thing, given the health context, the risks associated with a poor or inappropriate implementation is far greater.</p>
<p><img alt="" src="../assets/5.png" /></p>
<h4 id="step-1-clarify-business-requirements_2"><strong>Step 1: Clarify Business Requirements</strong></h4>
<p><em>Note: This example is for the sole purpose of illustrating a technical implementation and should not be considered a source of actual medical advice or opinion.</em></p>
<p>Pneumonia is a serious life-threatening condition. Its potentially devastating effects have become even clearer over the course of the Covid-19 pandemic. It has a number of causes including bacteria, viruses and fungi. The treatment for pneumonia varies depending on the cause. Consequently, it’s really important to accurately identify if the patient has pneumonia and if so, what type, so that the right course of drugs can be administered. In a busy, pressurised hospital setting, unexpected events can lead to resource constraints which in turn can lead to delays in diagnosing pneumonia. The use of a machine learning model to help with a timely diagnosis could help to save lives and reduce the burden on healthcare practitioners. A machine learning model that is capable of making high confidence predictions (that is embedded in a system with appropriate checks) has the potential to reduce costs and delays associated with blood tests and extensive consultations with specialists. Obviously, lower confidence predictions will still follow the conventional diagnostic workflow. The business requirement in this scenario is the smooth and timely prediction of likely pneumonia cases (with minimal false negatives) while reducing the number of non-pneumonia cases that are directed for blood tests and examination by consultants.</p>
<h4 id="step-2-assess-available-data_2"><strong>Step 2: Assess Available Data</strong></h4>
<p>The dataset for the model training comprises digitised x-ray images from a range of patients – some with various types of pneumonia and others with uninfected lungs<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup>. Digitised x-ray images are fairly widely used and the data format is well understood. This dataset needs to be made accessible to the data science team for model training. The sample project uploads the training image dataset to the connected data store (which in this example is an S3 bucket). This could also be implemented using the Object storage capabilities of the large distributed operational database like HBase or Cassandra.&#x20;</p>
<h4 id="step-3-develop-a-data-science-plan"><strong>Step 3: Develop a Data Science Plan</strong></h4>
<p>The next step is for the data science team to explore the dataset and come up with the plan for model development and mode of deployment. The business requirement is to reduce the time to get a diagnosis, and minimise the use of specialists and/or additional blood tests. This needs to be done with the view that the model should also make the fewest possible number of false predictions that a patient does not have pneumonia when they actually do. The model supports this requirement by minimising false negatives as much as possible and optimising the accuracy of the classification. A reasonable plan for achieving this would be to create an image classifier using <a href="https://blog.fastforwardlabs.com/2019/09/05/transfer-learning-from-the-ground-up.html">transfer learning</a> on one of the new generation, pre-trained image classifier models. So our machine learning solution will comprise two specific models: one model capable of predicting if the patient has pneumonia and a second for predicting the type of pneumonia. The first model needs to be optimised to reduce the number of false negatives (high sensitivity / recall). Adjusting the threshold for classification into either group should minimise false negatives. The second model needs to be optimised for accuracy as the requirement is for more certainty as to the type of pneumonia. This is likely a complex computation task that will require many nodes of GPU during the initial model training process and would be best implemented using a public cloud-based kubernetes platform with GPU nodes for the duration of the training and optimisation processes.</p>
<h4 id="step-4-model-deployment_2"><strong>Step 4: Model Deployment</strong></h4>
<p>A production version of this model would involve a pipeline that captures new images from an x-ray that is flagged by the radiologist as requiring pneumonia identification. This image (or in some cases multiple) of the patient’s lungs would be sent to an API endpoint to provide a prediction from the classifier. The data from each call to the API needs to be stored to calculate overall model performance and any result that is below an acceptable confidence threshold needs to trigger an alert to the attending medical practitioner to then either request blood test or request human assistance from someone with expertise in this field. Of critical importance here are availability and history. The model must always be available and the lineage of the data on which it was trained must be tracked in order to support auditability and reproducibility requirements. It is also necessary to store all predictions made by the specific model deployed and the detail for the image used. This allows the ability to confirm that the specific deployment will make the same prediction given the same image and to cover the auditability requirement listed in <a href="../chapter-5/">chapter 5</a>. A combination of tools like Apache Airflow, MLFlow, kubernetes and Evidently AI provides the ability to track the image details, the prediction and a unique identifier for the model used. A model registry like the one that is provided in MLFLow can also keep copies of previously deployed models so they can be redeployed for testing if required.</p>
<p><strong>Step 5: Model Operations</strong></p>
<p>Once the machine learning models are deployed, the classifier’s performance should be validated against human assessments and blood tests. Further, a random sample of the high confidence predictions made by the model should also be validated in this way.</p>
<p>In a scenario such as this, where the number of positive cases of pneumonia are low relative to the total number of people x-rayed, an<a href="https://machinelearningmastery.com/what-is-imbalanced-classification/"> imbalanced classification</a> could be a complicating factor. It could result in a situation where a model appears to be making accurate predictions (and by extension, fulfilling business requirements) but in reality it’s simply reflecting statistical probabilities.</p>
<p>In order to better understand this point, let’s assume 1 in every 100 patients has pneumonia. This implies that 99% of x-ray images will have no indication of pneumonia. If our model simply classified every x-ray as normal (i.e. it never detects pneumonia) then most of the time the model would accurately classify x-ray images, it would be wrong in only 1% of cases. This would superficially satisfy the business success metrics as the number of cases flagged for corroboration through blood tests or manual assessment, would fall. This would in turn reduce the time and costs associated with pneumonia detection. However the real life implications of failing to identify a case of pneumonia would be very serious. Once the problem was eventually detected the project would, rightly, be considered a failure.</p>
<p>The scenario described above shows why it’s so important for the design and maintenance of machine learning systems in production, to go beyond simple and efficient automation. It highlights the requirement for both statistical or mathematical capabilities and deep domain understanding and experience to deliver the benefit that a well implemented production machine learning process can bring.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>In practice, a model being trained for real world use would probably be trained on a dataset comprising a wider set of x-ray images e.g. x-ray images of lungs infected by diseases other than pneumonia.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../chapter-1/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 1: Defining Production Machine Learning" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              1: Defining Production Machine Learning
            </div>
          </div>
        </a>
      
      
        
        <a href="../chapter-3/" class="md-footer__link md-footer__link--next" aria-label="Next: 3: Cross Functional Teams" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              3: Cross Functional Teams
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.5e67fbfe.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c44cc438.min.js"></script>
      
    
  </body>
</html>